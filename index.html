<!doctype html>
<html>
  <head>
    <title>Star Raiders Multiplayer Client</title>

<!--
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Orbitron:900|Abel">
    <link rel="stylesheet" href="css/app.css">
    <link rel="stylesheet" href="lib/smoke.css">
    <link href='http://fonts.googleapis.com/css?family=Bowlby+One+SC' rel='stylesheet' type='text/css'>
-->
		<LINK rel="stylesheet" type="text/css" href="style.css"></LINK>

    <script src="lib/socket.io.js"></script>
    <!-- <script src="input.js"></script> -->
    <!-- <script src="sound.js"></script> -->
    <script src="lib/smoke.min.js"></script>
    <script src="lib/Three.js"></script>
    <script src="galaxy.js"></script>
    <script src="render.js"></script>
    <script src="client.js"></script>
  </head>
  <body>
    <div id="logo"><H2>Star Raiders Multiplayer</H2></div>
    <div id="outer">
      <div id="buttons" style="padding: 4px">
        <button id="connect" onClick=startClient('net://localhost:8765');>Connect To Server</button>
        <button id="start" onClick=startGame();>Start Game</button>
      </div>
	    <div id="debugoutput" style="padding: 4px">...debug...</div>

      <canvas id="canvas" width="800" height="400"></canvas>
      <audio id="audio"></audio>

      <div id="hud">
        <div id="buttons" style="padding: 4px">
					Name: <input type="text" id="playerName"></input>
          <button id="join" onClick=joinClient();>Join Game</button>
          <!-- <button id="music">Music</button> -->
          <button id="leave" onClick=leaveClient();>Leave Game</button>
        </div>

        <div id="info" style="padding: 4px">
          <div>
            <span id="player-count">0</span> players.
          </div>
          <div>
            <span id="observer-count">0</span> observers.
          </div>
          <div>
            <span id="average-lag">0</span> ms lag.
          </div>
        </div>
      </div>
    </div>

    <footer style="clear:both;">
    <p>
    (c) James Higgs 2012
    </p>
    </footer>

    <a href="http://github.com/james7780/srmp">SRMP on GitHub</a>
    
    <div id="threeJSContainer">
    	3D View
    </div>
    
	<script type="text/javascript">
	// Three.js / WebGL renderer
	
	// set the scene size
	var WIDTH = 400,
	    HEIGHT = 300;

	// set some camera attributes
	var VIEW_ANGLE = 45,
	    ASPECT = WIDTH / HEIGHT,
	    NEAR = 0.1,
	    FAR = 10000;

	// get the DOM element to attach to
	// - assume we've got jQuery to hand
	//var $container = $('#threeJSContainer');
	var container = document.getElementById('threeJSContainer');

	// create a WebGL renderer, camera
	// and a scene
	var scene = new THREE.Scene();

	var camera = new THREE.PerspectiveCamera(VIEW_ANGLE, ASPECT, NEAR, FAR);

	var renderer = new THREE.WebGLRenderer();		// or THREE.CanvasRenderer() if no webgl

	// the camera starts at 0,0,0 so pull it back
	camera.position.z = 300;

	// start the renderer
	renderer.setSize(WIDTH, HEIGHT);

	// attach the render-supplied DOM element
	//$container.append(renderer.domElement);
	container.appendChild(renderer.domElement);

	// create the sphere's material
	var sphereMaterial = new THREE.MeshLambertMaterial(
	{
	    color: 0xCC0000
	});

	// create a new mesh with sphere geometry -
	// we will cover the sphereMaterial next!
	for (var i = 0; i < 10; i++)
		{
		// set up the sphere vars
		var radius = 5, segments = 16, rings = 16;

		var sphere = new THREE.Mesh(
		   new THREE.SphereGeometry(radius, segments, rings),
		   sphereMaterial);
	
		sphere.position.set(Math.random() * WIDTH - WIDTH/2, Math.random() * HEIGHT - HEIGHT/2, 0);
		
		// add the sphere to the scene
		scene.add(sphere);
		}

	// and the camera
	scene.add(camera);

	// create a point light
	var pointLight = new THREE.PointLight( 0xFFFFFF );

	// set its position
	pointLight.position.x = 10;
	pointLight.position.y = 50;
	pointLight.position.z = 130;

	// add to the scene
	scene.add(pointLight);

	// draw!
	renderer.render(scene, camera);
	</script>
    
    
  </body>
  

</html>
